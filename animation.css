html, body {
  height: 100%;
  margin: 0;
}

button {
  height:20px;
  width:100px;
  margin: -20px -50px;
  position:relative;
  top:50%;
  left:50%;
}

#container {
  width: 100%;
  height: 100%;
  display: flex;
}

#rectangle {
  width: 20%;
  height: 100%;
  background-color: red;
  animation-name: example;
  animation-duration: 5s;
  position: relative;
  z-index: 2;
}

#sliding-rectangle {
  opacity: 0;
  width: 20%;
  height: 100%;
  background-color: blue;
  position: relative;
  z-index: 1;
}

#sliding-rectangle-2 {
  opacity: 0;
  width: 20%;
  height: 100%;
  background-color: gray;
  position: relative;
  z-index: 0;
}

.animate-open {
  animation-name: slide-open;
  animation-duration: 2s;
}

.animate-close {
  animation-name: slide-close;
  animation-duration: 2s;
}

@keyframes slide-open {
  0%   {right:100%;}
  100% {right:0;}
}

@keyframes slide-close {
  0%   {right:0;}
  100% {right:100%;}
}

@keyframes example {
  from {background-color: red;}
  to {background-color: green;}
}
